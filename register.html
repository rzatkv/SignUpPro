<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ثبت نام - Ertebanet</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for Eye Icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/register.css">
    <!-- Favicon -->
    <link rel="icon" href="https://my.ertebanet.com/assets/img/logo.png" type="image/png">
    <!-- Vazir Font -->
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font/dist/font-face.css" rel="stylesheet">
</head>
<body dir="rtl">
    <!-- Fixed Progress Bar -->
    <div class="fixed-top">
        <div class="progress mb-0">
            <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
        </div>
    </div>

    <div class="container">
        <div class="text-center mb-4">
            <img src="https://my.ertebanet.com/assets/img/logo.png" alt="Ertebanet" class="img-fluid" style="max-width: 150px;">
        </div>
        <!-- Registration Form -->
        <form id="registrationForm" novalidate>
            <!-- Step 1: User Type and Terms -->
            <div id="step-1" class="step active">
                <div class="mb-3">
                    <label for="userType" class="form-label">نقش کاربر <span class="text-danger">*</span></label>
                    <select class="form-select form-select-lg" id="userType" required>
                        <option value="" selected disabled>لطفاً نقش کاربر را انتخاب کنید</option>
                        <option value="individual">حقیقی</option>
                        <option value="corporate">حقوقی</option>
                    </select>
                    <div class="invalid-feedback">
                        لطفاً نقش کاربر را انتخاب کنید.
                    </div>
                </div>

                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="termsCheckbox" required>
                    <label class="form-check-label" for="termsCheckbox">
                        قوانین و مقررات را می‌پذیرم 
                        <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">(مطالعه قوانین)</a>
                        <span class="text-danger">*</span>
                    </label>
                    <div class="invalid-feedback">
                        لطفاً قوانین و مقررات را بپذیرید.
                    </div>
                </div>

                <div class="text-center mt-4">
                    <button type="button" class="btn btn-green btn-lg" id="nextBtn">بعدی</button>
                </div>
            </div>

            <!-- Step 2: Registration Details -->
            <div id="step-2" class="step">
                <!-- Individual Fields -->
                <div id="individualFields" class="user-type-fields">
                    <div class="mb-3">
                        <label for="firstName" class="form-label">نام <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="firstName" minlength="2" maxlength="20" pattern="^[\u0600-\u06FF\s]+$" required>
                        <div class="invalid-feedback">
                            لطفاً نام خود را فقط با حروف فارسی وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="lastName" class="form-label">نام خانوادگی <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="lastName" minlength="2" maxlength="20" pattern="^[\u0600-\u06FF\s]+$" required>
                        <div class="invalid-feedback">
                            لطفاً نام خانوادگی خود را فقط با حروف فارسی وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="fatherName" class="form-label">نام پدر <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="fatherName" minlength="2" maxlength="20" pattern="^[\u0600-\u06FF\s]+$" required>
                        <div class="invalid-feedback">
                            لطفاً نام پدر خود را فقط با حروف فارسی وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="nationalId" class="form-label">کد ملی <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="nationalId" pattern="^\d{10}$" required>
                        <div class="invalid-feedback">
                            لطفاً کد ملی را 10 رقم وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="birthDate" class="form-label">تاریخ تولد <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="birthDate" placeholder="مثال: 1370/01/01" required>
                        <div class="invalid-feedback">
                            لطفاً تاریخ تولد خود را وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="gender" class="form-label">جنسیت <span class="text-danger">*</span></label>
                        <select class="form-select form-select-lg" id="gender" required>
                            <option value="" selected disabled>لطفاً جنسیت خود را انتخاب کنید</option>
                            <option value="male">آقا</option>
                            <option value="female">خانم</option>
                        </select>
                        <div class="invalid-feedback">
                            لطفاً جنسیت خود را انتخاب کنید.
                        </div>
                    </div>
                    <div class="mb-3" id="economicCodeField">
                        <label for="economicCode" class="form-label">کد اقتصادی <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="economicCode" pattern="^\d{9,12}$" required>
                        <div class="invalid-feedback">
                            لطفاً کد اقتصادی را 9 تا 12 رقم وارد کنید.
                        </div>
                    </div>
                </div>

                <!-- Corporate Fields -->
                <div id="corporateFields" class="user-type-fields d-none">
                    <div class="mb-3">
                        <label for="companyName" class="form-label">نام شرکت <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="companyName" minlength="5" maxlength="25" pattern="^[\u0600-\u06FF\s]+$" required>
                        <div class="invalid-feedback">
                            لطفاً نام شرکت را فقط با حروف فارسی وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="registrationNumber" class="form-label">شماره ثبت <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="registrationNumber" pattern="^\d{2,12}$" required>
                        <div class="invalid-feedback">
                            لطفاً شماره ثبت شرکت را 2 تا 12 رقم وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="registrationDate" class="form-label">تاریخ ثبت شرکت <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="registrationDate" placeholder="مثال: 1370/01/01" required>
                        <div class="invalid-feedback">
                            لطفاً تاریخ ثبت شرکت را وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3" id="corporateEconomicCodeField">
                        <label for="corporateEconomicCode" class="form-label">کد مالیاتی <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="corporateEconomicCode" pattern="^\d{9,12}$" required>
                        <div class="invalid-feedback">
                            لطفاً کد مالیاتی را 9 تا 12 رقم وارد کنید.
                        </div>
                    </div>
                </div>

                <!-- Common Fields for Both User Types -->
                <div id="commonFields">
                    <div class="mb-3">
                        <label for="address" class="form-label">آدرس <span class="text-danger">*</span></label>
                        <textarea class="form-control" id="address" rows="3" maxlength="150" required></textarea>
                        <div class="invalid-feedback">
                            لطفاً آدرس خود را وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="province" class="form-label">استان <span class="text-danger">*</span></label>
                        <div class="custom-select-wrapper">
                            <select class="form-select form-select-lg" id="province" required>
                                <option value="" selected disabled>لطفاً استان را انتخاب کنید</option>
                                <option value="تهران">تهران</option>
                                <option value="اصفهان">اصفهان</option>
                                <option value="خراسان رضوی">خراسان رضوی</option>
                                <!-- Add more provinces as needed -->
                            </select>
                        </div>
                        <div class="invalid-feedback">
                            لطفاً استان را انتخاب کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="city" class="form-label">شهر <span class="text-danger">*</span></label>
                        <div class="custom-select-wrapper">
                            <select class="form-select form-select-lg" id="city" required>
                                <option value="" selected disabled>لطفاً ابتدا استان را انتخاب کنید</option>
                                <!-- Cities will be populated based on selected province -->
                            </select>
                        </div>
                        <div class="invalid-feedback">
                            لطفاً شهر را انتخاب کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="postalCode" class="form-label">کد پستی <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="postalCode" pattern="^\d{10}$" required>
                        <div class="invalid-feedback">
                            لطفاً کد پستی را 10 رقم وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="mobileNumber" class="form-label">تلفن همراه <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="mobileNumber" pattern="^09\d{9}$" required>
                        <div class="invalid-feedback">
                            لطفاً شماره موبایل را به درستی وارد کنید (مثال: 09123456789).
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">ایمیل <span class="text-danger">*</span></label>
                        <input type="email" class="form-control" id="email" required>
                        <div class="invalid-feedback">
                            لطفاً ایمیل معتبر وارد کنید.
                        </div>
                    </div>
                    <div class="mb-3 position-relative">
                        <label for="password" class="form-label">گذرواژه <span class="text-danger">*</span></label>
                        <div class="input-group">
                            <input type="password" class="form-control" id="password" minlength="8" required>
                            <span class="input-group-text toggle-password" role="button" aria-label="Toggle password visibility">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </span>
                            <div class="invalid-feedback">
                                لطفاً گذرواژه را با حداقل 8 کاراکتر وارد کنید.
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 position-relative">
                        <label for="confirmPassword" class="form-label">تایید گذرواژه <span class="text-danger">*</span></label>
                        <div class="input-group">
                            <input type="password" class="form-control" id="confirmPassword" minlength="8" required>
                            <span class="input-group-text toggle-password" role="button" aria-label="Toggle password visibility">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </span>
                            <div class="invalid-feedback">
                                گذرواژه‌ها باید مطابقت داشته باشند.
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="job" class="form-label">شغل <span class="text-danger">*</span></label>
                        <div class="custom-select-wrapper">
                            <select class="form-select form-select-lg" id="job" required>
                                <option value="" selected disabled>لطفاً شغل خود را انتخاب کنید</option>
                                <option value="student">دانشجو</option>
                                <option value="teacher">معلم</option>
                                <option value="engineer">مهندس</option>
                                <option value="doctor">پزشک</option>
                                <option value="lawyer">وکیل</option>
                                <option value="freelancer">آزاد</option>
                                <option value="other">سایر</option>
                            </select>
                        </div>
                        <div class="invalid-feedback">
                            لطفاً شغل خود را انتخاب کنید.
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="referral" class="form-label">نحوه آشنایی با ما</label>
                        <div class="custom-select-wrapper">
                            <select class="form-select form-select-lg" id="referral">
                                <option value="" selected disabled>لطفاً نحوه آشنایی را انتخاب کنید</option>
                                <option value="google">نتایج جستجو در گوگل</option>
                                <option value="ads">تبلیغات در سایت های مختلف</option>
                                <option value="website">سایت ما</option>
                                <option value="friend">معرفی دوستان</option>
                                <option value="instagram">اینستاگرام</option>
                                <option value="sms">پیامک تبلیغاتی</option>
                                <option value="email">پست الکترونیک تبلیغاتی</option>
                                <option value="videoAds">تبلیغات ویدوئیی</option>
                                <option value="inPerson">فروش حضوری</option>
                                <option value="agents">عاملین فروش</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Navigation Buttons -->
                <div class="d-flex justify-content-between mt-4">
                    <button type="button" class="btn btn-secondary btn-lg d-none" id="prevBtn">قبلی</button>
                    <button type="button" class="btn btn-green btn-lg" id="submitBtn">ثبت نام</button>
                </div>
                <div id="errorAlert" class="error-alert mt-3"></div>
            </div>
        </form>
    </div>

    <!-- Terms and Conditions Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">قوانین و مقررات</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="بستن"></button>
                </div>
                <div class="modal-body">
                    <p>اینجا قوانین و مقررات مربوط به ثبت‌نام و استفاده از خدمات وب‌سایت قرار می‌گیرد. لطفاً با دقت مطالعه کنید و در صورت موافقت، گزینه "می‌پذیرم" را تیک بزنید.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">بستن</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center mt-5">Designed By ❤️ in Ertebanet.com</footer>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery (required) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Custom JS -->
    <script src="assets/js/register.js"></script>
</body>
</html>
